<main class="page">
  <h1>Create room (test)</h1>
  <p class="hint">Uses <code>DEFAULT_USER_ID</code> (no Supabase Auth).</p>

  <form class="form" [formGroup]="form" (ngSubmit)="submit()">
    <label class="field">
      <span>Name</span>
      <input type="text" formControlName="name" placeholder="Kitchen" />
    </label>

    <label class="field">
      <span>Color</span>
      <input type="text" formControlName="color" placeholder="#aabbcc" />
    </label>

    <div class="grid">
      <label class="field">
        <span>x_start</span>
        <input type="number" formControlName="x_start" min="0" step="0.01" />
      </label>

      <label class="field">
        <span>y_start</span>
        <input type="number" formControlName="y_start" min="0" step="0.01" />
      </label>

      <label class="field">
        <span>width_cells</span>
        <input type="number" formControlName="width_cells" min="1" max="50" step="1" />
      </label>

      <label class="field">
        <span>height_cells</span>
        <input type="number" formControlName="height_cells" min="1" max="50" step="1" />
      </label>

      <label class="field">
        <span>cell_size_m</span>
        <input type="number" formControlName="cell_size_m" step="0.1" />
      </label>
    </div>

    <button type="submit" [disabled]="isSubmitting">
      {{ isSubmitting ? 'Creatingâ€¦' : 'Create room' }}
    </button>
  </form>

  @if (result) {
    <section class="panel">
      <h2>Result</h2>
      <pre>{{ result | json }}</pre>
    </section>
  }

  @if (errorText) {
    <section class="panel panel-error">
      <h2>Error</h2>
      <pre>{{ errorText }}</pre>
    </section>
  }
</main>
