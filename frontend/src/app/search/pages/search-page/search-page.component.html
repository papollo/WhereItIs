<section class="search-page">
  <header class="search-page__header">
    <div>
      <h1>Wyszukiwanie przedmiotow</h1>
      <p>Znajdz przedmiot i przejdz do mebla, w ktorym sie znajduje.</p>
    </div>
  </header>

  <app-search-form
    [query]="state.query"
    [disabled]="state.isLoading"
    [error]="formError"
    (update)="updateQuery($event)"
    (submitQuery)="submitQuery($event)"
  ></app-search-form>

  @if (state.isLoading) {
    <section class="search-page__loading">
      <mat-progress-spinner diameter="28" mode="indeterminate"></mat-progress-spinner>
      <span>Wyszukiwanie...</span>
    </section>
  }

  @if (!state.isLoading && state.results.length > 0) {
    <app-search-results-list
      [items]="state.results"
      (open)="openResult($event)"
    ></app-search-results-list>
  }

  @if (!state.isLoading && state.hasSearched && state.results.length === 0) {
    <app-search-empty-state
    ></app-search-empty-state>
  }
</section>
